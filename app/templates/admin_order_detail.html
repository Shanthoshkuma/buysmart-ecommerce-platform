{% extends "base.html" %}

{% block title %}Order #{{ order.id }}{% endblock %}

{% block content %}

<!-- ORDER HEADER -->
<div class="order-meta">

    <!-- LEFT : ORDER INFO -->
    <div>
        <h2>Order #{{ order.id }}</h2>
        <p>Status: <strong>{{ order.status }}</strong></p>
        <p>Total: ₹{{ order.total_amount }}</p>
    </div>

    <!-- RIGHT : UPDATE STATUS -->
    <div class="order-status-box">
        <form method="post"
              action="/admin/order/update/{{ order.id }}"
              class="status-form">

            <select name="status">
                <option value="pending"
                    {% if order.status == 'pending' %}selected{% endif %}>
                    Pending
                </option>
                <option value="shipped"
                    {% if order.status == 'shipped' %}selected{% endif %}>
                    Shipped
                </option>
                <option value="delivered"
                    {% if order.status == 'delivered' %}selected{% endif %}>
                    Delivered
                </option>
            </select>

            <button type="submit" class="btn btn-small">
                Update
            </button>
        </form>
    </div>

</div>

<hr>

<!-- ORDER ITEMS TABLE -->
<table class="cart-table">
    <tr>
        <th>Product</th>
        <th>Price</th>
        <th>Qty</th>
        <th>Total</th>
    </tr>

    {% for item, product in items %}
    <tr>
        <td>{{ product.name }}</td>
        <td>₹{{ item.price }}</td>
        <td>{{ item.quantity }}</td>
        <td>₹{{ item.price * item.quantity }}</td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
